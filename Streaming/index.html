<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>GDA Movie Club</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Arima+Madurai:wght@100&display=swap" rel="stylesheet">

  </head>
  <body>
    <div id="nav">
      <a href="index.html">GDA Movie Club</a>
      <a href="#">Participants</a>
      <a href="schedule.html">streaming schedule</a>
      <a href="#">info</a>
      <a href="submit.html">submit your video</a>
      <a href="submit.html">talks</a>
  </div>
    <div class="stream">

      <div id="twitch" class="hide">
      </div>
      <!-- iframe src="https://www.youtube.com/embed/live_stream?channel=UCgjYbU0UkK4YeWMlSOFxWWQ" frameborder="0" allowfullscreen></iframe -->
      <div class="description">
          <p>Introduction about the film/video, short intro of the maker. website etc.</p>
          <p>Lily's Photographs / a story about photographer Lily.</p>
          <p>Xiaoyuan Gao / Graphic Design / 3rd Year</p>
          <a href="https://sdfggvfvj.github.io">WEBSITE</a>
      </div>

    </div>

    <script src= "https://player.twitch.tv/js/embed/v1.js"></script>


    <script type="text/javascript">
      var options = {
        channel: "fgjgjhgh", // TODO: Change this to the streams username you want to embed
        width: 640,
        height: 360,
      };
      var player = new Twitch.Player("twitch", options);

      player.addEventListener(Twitch.Player.READY, initiate)

      function initiate() {
        player.addEventListener(Twitch.Player.ONLINE, handleOnline);
        player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
        player.removeEventListener(Twitch.Player.READY, initiate);
      }

      function handleOnline() {
        document.getElementById("twitch").classList.remove('hide');
        player.removeEventListener(Twitch.Player.ONLINE, handleOnline);
        player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
        player.setMuted(false);
      }

      function handleOffline() {
        document.getElementById("twitch").classList.remove('hide');
        player.removeEventListener(Twitch.Player.OFFLINE, handleOffline);
        player.addEventListener(Twitch.Player.ONLINE, handleOnline);
        player.setMuted(true);
      }
    </script>

  </body>
</html>
